# 변수 선언(Variable Declaration)
> `ES6` 전 JavaScript에서는 `var`키워드만으로 사용해서 변수를 선언했다. 그러나 `var` 키워드로 선언된 변수는 아래와 같은 특징으로 인해 심각한 문제를 일으킨다.

**1. 함수 레벨 스코프 (Function-level scope)**<br/>
- `var`는 블록 스코프를 가지지 않고, **함수 바디를 스코프**로 가진다. <br/>
함수 밖에서 `var`를 사용하면 모두 전역 변수로 선언되어 전역변수를 남발할 수 있다. <br/>
    ```jsx
    var example = 111;
    console.log(example); // 111

    {
      var example = 999;
    }
    conosle.log(example); // 999
    ```
    `var`은 함수 레벨 스코프를 따르기 때문에, { } 내의 변수는 지역 변수가 아니라 전역 변수.<br/>
    이미 전역변수가 선언되어 있지만, `var`특성 상 중복 선언이 가능하기 때문에 999로 재할당하여 값을 덮어쓴다.
    
- for 루프에서 인덱스 변수로 자주 사용된다. <br/>
여기서 `var`변수의 스코프는 루프 바디가 아니기 때문에 for 루프 외부 또는 전역에서 다시 선언하거나 초기화하는 등 참조할 수 있다.

**2. var 키워드 생략 허용**<br/>
- 의도하지 않게 전역 변수가 선언될 수 있다. 

**3.변수 중복 선언 허용** <br/>
- `let`과 달리 `var`은 몇 번이고 같은 변수를 선언할 수 있어 의도치 않게 변수를 남발하거나 변수 값이 변경될 수 있다.<br>

**4.변수 호이스팅(끌어올림)** <br/>
- `var`로 변수를 선언하면 이 선언문은 함수의 맨 위로 끌어올려져서 선언 이전에 참조할 수 있다.<br>

```
[ 💡 Note ]
스코프 : 프로그램 소스 코드에서 변수가 정의된 영역으로 변수에 접근할 수 있는 범위.
전역(global) 스코프 : 어디에서든 해당 변수에 접근 가능
지역(local) 스코프 : 한정적인 범위에서 해당 변수에 접근 가능
  - 블록 스코프 : 블록{ }안에서 선언된 변수만 유효하고 블록 외부에서는 참조할 수 없다.
  - 함수 스코프 : 함수에서 선언한 변수는 해당 함수내에서만 접근 가능하고 외부에서는 참조할 수 없다. JavaScript는 함수 레벨 스코프를 따른다.
```
`전역변수`는 사용하기 편리하지만, 스코프 범위가 넓어 어디에서 사용할지 파악하기 어려우며, 의도치않게 변경될 수 있어서 복잡하다. <br />이러한 `var`의 단점을 보안하기 위해서 `let` 과 `const`이 도입되었다.

# let과 호이스팅(Hoisting)
> JavaScript는 모든 선언을 호이스팅한다. <br />
호이스팅 : `var`, function 선언문 등을 해당 스코프의 선두로 끌어 올려진 것처럼 동작한다.
```jsx
console.log(hello); // undefined
var hello;

console.log(bye); // Error: Uncaught ReferenceError
let bye;
```
`var`키워드로 선언된 변수는 호이스팅되어 변수를 선언하기 전에 참조해도 에러가 발생하지 않지만, <br/>
`let`키워드로 선언된 변수는 선언하기 전에 참조하면 변수의 사각지대(Temporal DeadZone: TDZ)에 빠져 참조에러(ReferenceError)가 발생한다.<br/>
## 변수 선언의 3단계
> 변수는 `선언`, `초기화`, `할당` 3단계를 거쳐 생성된다.

**1️⃣선언 단계(Declaration phase)**<br/>
    - 변수 객체를 생성하고 변수를 등록한다. <br/>
    - 스코프는 이 변수 객체를 참고한다.
    
**2️⃣초기화 단계(Initialization phase)** <br/>
    - 변수 객체에 등록된 변수를 메모리에 할당한다. <br/>
    - 변수는 undefined로 초기화된다.
    
**3️⃣할당 단계(Assignment phase)**  <br/>
    - undefined로 초기화 된 변수에 값을 할당한다.

```
[ 💡 Note ]
#변수의 사각지대(Temporal DeadZone: TDZ)

```

